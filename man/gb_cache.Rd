% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gb-cache.R
\encoding{UTF-8}
\name{gb_cache}
\alias{gb_cache}
\alias{gb_set_cache}
\alias{gb_get_cache}
\alias{gb_list_cache}
\alias{gb_clear_cache}
\alias{gb_delete_from_cache}
\title{\CRANpkg{rgeoboundaries} cache utilities}
\usage{
gb_set_cache(path, install = FALSE, overwrite = FALSE, quiet = FALSE)

gb_get_cache(create = deprecated())

gb_list_cache(full_path = FALSE)

gb_clear_cache(force = TRUE, clear_config = FALSE, quiet = FALSE)

gb_delete_from_cache(file)
}
\arguments{
\item{path}{character. Path to the directory to use as the cache. If omitted
or empty, a temporary directory inside \code{\link[base:tempfile]{base::tempdir()}} is used.}

\item{install}{logical. If \code{TRUE}, write the selected path to the package
configuration directory so it is reused in future sessions. Defaults to
\code{FALSE}. If \code{path} is omitted or refers to \code{\link[=tempdir]{tempdir()}}, \code{install} is forced
to \code{FALSE}.}

\item{overwrite}{logical. If \code{TRUE} and \code{install = TRUE}, overwrite any
existing installed cache path. Defaults to \code{FALSE}.}

\item{quiet}{logical. If \code{TRUE}, suppress informational messages.}

\item{create}{\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#deprecated}{\figure{lifecycle-deprecated.svg}{options: alt='[Deprecated]'}}}{\strong{[Deprecated]}}.}

\item{full_path}{logical. If \code{TRUE}, return full file paths to cached files.
If \code{FALSE}, return paths relative to the cache directory.}

\item{force}{logical.  Should permissions be changed (if possible) to
    allow the file or directory to be removed?}

\item{clear_config}{logical. If \code{TRUE}, also delete the installed cache
configuration directory of \CRANpkg{rgeoboundaries}.}

\item{file}{character. Base name of the cached file to delete.}
}
\value{
\itemize{
\item \code{gb_set_cache()}: Invisibly returns the cache directory path (character)
that was set.
\item \code{gb_get_cache()}: Returns the active cache directory path (character).
\item \code{gb_list_cache()}: Returns a character vector of cached file names or full
paths, depending on the \code{full_path} argument.
\item \code{gb_clear_cache()} and \code{gb_delete_from_cache()}: Called for their side
effects.
}
}
\description{
Utilities to manage the local cache directory used by
\CRANpkg{rgeoboundaries} to store downloaded boundary files. These helpers
allow you to set a cache directory, retrieve the active directory, list
cached files, and remove cached files or the entire cache.

The main functions are:
\itemize{
\item \code{gb_set_cache()}: Configure where cached files are stored (temporary by
default).
\item \code{gb_get_cache()}: Retrieve the active cache directory path.
\item \code{gb_list_cache()}: List files currently stored in the cache.
\item \code{gb_clear_cache()}: Remove all cached files (and optionally the installed
cache configuration).
\item \code{gb_delete_from_cache()}: Remove one or more specific cached files.
}
}
\details{
By default, when no cache \code{path} is set, the package uses a directory inside
\code{\link[base:tempfile]{base::tempdir()}}. Files stored there are temporary and are removed when the
\strong{R} session ends.

To persist a cache across \strong{R} sessions, use
\code{gb_set_cache(path, install = TRUE)}. This writes the selected path to a
small configuration file under
\code{tools::R_user_dir("rgeoboundaries", "config")}, which is read automatically
in future sessions.
}
\section{Caching strategies}{

\itemize{
\item For occasional use, rely on the default \code{\link[=tempdir]{tempdir()}}-based cache (no
installation required).
\item To change the cache location for a single session, use
\code{gb_set_cache(path)}.
\item For reproducible workflows, install a persistent cache with
\code{gb_set_cache(path, install = TRUE)}, which is reused across \strong{R}
sessions.
\item To cache files in a custom location on a per-call basis, use the \code{path}
argument of the corresponding function (see \code{\link[=gb_get]{gb_get()}}).
}
}

\examples{
# Caution: this example may modify your current cache state

\dontrun{
my_cache <- gb_get_cache()

# Set an example cache directory
ex <- file.path(tempdir(), "example", "cache")
gb_set_cache(ex, quiet = TRUE)

newcache <- gb_get_cache()
newcache

# Write example files to the cache
cat(1:10000L, file = file.path(newcache, "a.txt"))
cat(1:10000L, file = file.path(newcache, "b.txt"))
cat(1:10000L, file = file.path(newcache, "c.txt"))

# List cached files
gb_list_cache()

# Delete one file
gb_delete_from_cache("a.txt")
gb_list_cache()

# Delete all cached files
gb_clear_cache(quiet = FALSE)
gb_list_cache()

# Restore the initial cache
gb_set_cache(my_cache)
identical(my_cache, gb_get_cache())
}

}
\seealso{
\code{\link[tools:userdir]{tools::R_user_dir()}}, \code{\link[base:tempfile]{base::tempdir()}}
}
\concept{cache utilities}
